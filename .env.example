# ESC Django Application - Environment Configuration Template
# Copy this file to .env.docker and configure with your actual values

# ============================================
# Django Core Settings
# ============================================
SECRET_KEY=your-secret-key-here-change-this-min-50-characters
DEBUG=False
ENVIRONMENT=production
ALLOWED_HOSTS=localhost,yourdomain.com,www.yourdomain.com
CSRF_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# ============================================
# Database Configuration
# ============================================
# PostgreSQL connection (required if using external database)
DATABASE_URL=postgresql://user:password@host:port/dbname
ANALYTICS_DATABASE_URL=postgresql://user:password@host:port/analytics_db

# ============================================
# Redis Configuration
# ============================================
REDIS_URL=redis://redis:6379
REDIS_HOST=redis
REDIS_PASSWORD=

# ============================================
# Site Configuration
# ============================================
SITE_ID=1
SITE_NAME=Your Site Name
SITE_URL=https://yourdomain.com
BASE_URL=https://sandbox.safaricom.co.ke

# ============================================
# Email Configuration (Required for email functionality)
# ============================================
DEFAULT_FROM_EMAIL=noreply@yourdomain.com
EMAIL_HOST=smtp.gmail.com
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-gmail-app-password
EMAIL_PORT=587

# For Gmail: Generate App Password at https://myaccount.google.com/apppasswords
# For other providers, adjust EMAIL_HOST and EMAIL_PORT accordingly

# ============================================
# Cloudflare R2 Storage - Private Bucket
# ============================================
CLOUDFLARE_R2_ACCESS_KEY=your-access-key
CLOUDFLARE_R2_SECRET_KEY=your-secret-key
CLOUDFLARE_R2_BUCKET=your-bucket-name
CLOUDFLARE_R2_BUCKET_ENDPOINT=https://your-account-id.r2.cloudflarestorage.com
CLOUDFLARE_R2_TOKEN_VALUE=your-token

# ============================================
# Cloudflare R2 Storage - Public Bucket (CDN)
# ============================================
CLOUDFLARE_R2_PUBLIC_ACCESS_KEY=your-public-access-key
CLOUDFLARE_R2_PUBLIC_SECRET_KEY=your-public-secret-key
CLOUDFLARE_R2_PUBLIC_BUCKET=your-public-bucket
CLOUDFLARE_R2_PUBLIC_BUCKET_ENDPOINT=https://your-account-id.r2.cloudflarestorage.com
CLOUDFLARE_R2_PUBLIC_CUSTOM_DOMAIN=https://cdn.yourdomain.com

# ============================================
# Cloudflare R2 Storage - Backups
# ============================================
BACKUP_R2_ACCESS_KEY_ID=your-backup-access-key
BACKUP_R2_SECRET_ACCESS_KEY=your-backup-secret-key
BACKUP_R2_BUCKET_NAME=your-backup-bucket
BACKUP_R2_ENDPOINT=https://your-account-id.r2.cloudflarestorage.com
BACKUP_R2_ACCOUNT_ID=your-account-id
BACKUP_R2_REGION=auto

# ============================================
# M-Pesa Payment Integration (Safaricom Kenya)
# ============================================
MPESA_CONSUMER_KEY=your-consumer-key
MPESA_CONSUMER_SECRET=your-consumer-secret
MPESA_PASSKEY=your-passkey
MPESA_SHORTCODE=174379
CALLBACK_URL=https://yourdomain.com/api/mpesa/callback

# Get credentials from: https://developer.safaricom.co.ke/
# Use sandbox for testing, production for live payments

# ============================================
# Google OAuth Configuration
# ============================================
GOOGLE_OAUTH_CLIENT_ID=your-client-id.apps.googleusercontent.com
GOOGLE_OATH_CLIENT_ID=your-client-id.apps.googleusercontent.com
GOOGLE_OAUTH_CLIENT_SECRET=your-client-secret

# Get credentials from: https://console.cloud.google.com/apis/credentials

# ============================================
# MaxMind GeoIP2 (for IP geolocation)
# ============================================
GEOIP_LICENSE_KEY=your-maxmind-license-key

# Get license key from: https://www.maxmind.com/en/accounts/current/license-key

# ============================================
# Google reCAPTCHA (Bot Protection)
# ============================================
RECAPTCHA_PUBLIC_KEY=your-recaptcha-site-key
RECAPTCHA_PRIVATE_KEY=your-recaptcha-secret-key

# Get keys from: https://www.google.com/recaptcha/admin

# ============================================
# Sentry (Error Tracking & Monitoring)
# ============================================
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Get DSN from: https://sentry.io/

# ============================================
# PostHog (Product Analytics)
# ============================================
POSTHOG_ENABLED=True
POSTHOG_HOST=https://eu.i.posthog.com
POSTHOG_API_KEY=your-posthog-project-api-key

# Get API key from: https://posthog.com/

# ============================================
# Admin Configuration
# ============================================
ADMIN_NAME=Admin Name
ADMIN_EMAIL=admin@yourdomain.com

# ============================================
# Python & System Configuration
# ============================================
PYTHON_VERSION=3.13.5
UID=1000

WATCHTOWER_LABEL_ENABLE=
WATCHTOWER_INCLUDE_RESTARTING=
WATCHTOWER_NOTIFICATION_EMAIL_FROM=
WATCHTOWER_NOTIFICATION_EMAIL_TO=
WATCHTOWER_NOTIFICATION_EMAIL_SERVER=
WATCHTOWER_NOTIFICATION_EMAIL_PORT=
WATCHTOWER_NOTIFICATION_EMAIL_SERVER_USER=
WATCHTOWER_NOTIFICATION_EMAIL_SERVER_PASSWORD=
WATCHTOWER_NOTIFICATION_EMAIL_SUBJECTTAG=

# ============================================
# Configuration Guide
# ============================================
# 
# REQUIRED (Application won't work without these):
# - SECRET_KEY: Generate using: python3 -c "import secrets; print(secrets.token_urlsafe(50))"
# - ALLOWED_HOSTS: Your actual domain name(s)
# - DATABASE_URL: If using PostgreSQL (otherwise app uses SQLite)
# 
# IMPORTANT (Core features need these):
# - EMAIL_HOST_USER & EMAIL_HOST_PASSWORD: For sending emails
# - CLOUDFLARE_R2_*: For file storage (if not using local storage)
# - MPESA_*: For payment processing
# 
# OPTIONAL (Nice to have):
# - GOOGLE_OAUTH_*: For Google login
# - RECAPTCHA_*: For bot protection
# - SENTRY_DSN: For error tracking
# - POSTHOG_*: For analytics
# - GEOIP_LICENSE_KEY: For IP geolocation
# 
# SECURITY NOTES:
# 1. Never commit this file to version control
# 2. Use strong, unique passwords
# 3. Keep SECRET_KEY secret and random
# 4. Use environment-specific values for production
# 5. Regularly rotate credentials
# 6. Backup this file securely
# 
# For Gmail SMTP:
# - Enable 2-Factor Authentication
# - Generate App Password at: https://myaccount.google.com/apppasswords
# - Use the 16-character app password (no spaces)
# 
# For Cloudflare R2:
# - Create buckets in Cloudflare dashboard
# - Generate API tokens with appropriate permissions
# - Use different buckets for private, public, and backup storage
# 
# For M-Pesa:
# - Start with sandbox for testing
# - Move to production after testing
# - Ensure callback URL is publicly accessible
# 
# ============================================